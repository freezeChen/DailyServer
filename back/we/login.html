<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>

</head>
<body>

<div id="input">
    账号:<input id="account" placeholder="请输入账号" value="user1">
    密码:<input id="password" placeholder="请输入密码" type="password" value="123">

    <button onclick="login()">登录</button>
    <div id="tip" style="color: red;">1</div>

</div>

<script>

    function login() {
        var account = $("#account").val();
        var psw = $("#password").val();
        var tip = $("#tip");
        if (account.length === 0 || psw.length === 0) {
            tip.text("账号不能为空");
            return
        } else {
            tip.text("");
        }


        $.ajax({
            url: "http://localhost:8021/account/login",
            type: "POST",
            contentType: "application/json;charset=utf-8",
            dataType: "JSON",
            timeout: 10000,
            data: JSON.stringify({'account': account, "password": psw}),
            async: false,
            success: function (res) {
                tip.text(res["msg"]);
                console.log(res);
                document.cookie;
                self.location.href = "index.html?user=" + res["data"]
            },
            error: function (res) {

                alert("登录失败" + res)
            }
        })
    }

</script>
</body>


</html>